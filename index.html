<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV70 Handball ‚Äì Planning du weekend</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/logo.png" type="image/png">
</head>
<body>
    <div id="app">
        <div class="loading">
            <div class="spinner"></div>
            <p>Chargement...</p>
        </div>
    </div>

    <!-- Vue publique -->
    <template id="public-view">
        <div class="public-container">
            <header class="header">
                <div class="header-content">
                    <img src="assets/logo.png" alt="Logo CSV70" class="club-logo">
                    <div>
                        <h1 class="main-title">CSV70 HANDBALL</h1>
                        <p class="subtitle"><em>Ensemble, plus forts !</em></p>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <div class="weekend-header">
                    <h2 id="weekend-title">Planning du weekend</h2>
                    <p id="weekend-dates">‚Äì</p>
                </div>

                <div id="weekend-grid" class="weekend-grid">
                    <div class="weekend-column home-column">
                        <h3 class="column-title">üè† Domicile</h3>
                        <div id="home-matches" class="matches-container"></div>
                    </div>
                    <div class="weekend-column away-column">
                        <h3 class="column-title">üöå Ext√©rieur</h3>
                        <div id="away-matches" class="matches-container"></div>
                    </div>
                </div>

                <div class="admin-access">
                    <button id="admin-btn" class="admin-button">Administration</button>
                </div>
            </main>
        </div>
    </template>

    <!-- Vue admin -->
    <template id="admin-view">
        <div class="admin-container">
            <header class="admin-header">
                <div>
                    <h1 class="admin-title">CSV70 Handball</h1>
                    <p class="admin-subtitle">Administration ‚Äì Gestion du weekend</p>
                </div>
                <button id="logout-btn" class="logout-button">‚Üê D√©connexion</button>
            </header>

            <main class="admin-main">
                <div class="admin-actions">
                    <button id="config-dates-btn" class="btn-secondary">Configurer le weekend</button>
                    <button id="add-match-btn" class="btn-primary">Ajouter un match</button>
                    <button id="download-png" class="btn-download">T√©l√©charger PNG</button>
                    <button id="download-xls" class="btn-download">T√©l√©charger XLS</button>
                </div>

                <div id="dates-form" class="form-card hidden">
                    <h2 class="form-title">Configuration du weekend</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Date du samedi</label>
                            <input type="date" id="date-saturday" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Date du dimanche</label>
                            <input type="date" id="date-sunday" class="form-input">
                        </div>
                    </div>
                    <button id="save-dates-btn" class="btn-submit">Enregistrer</button>
                </div>

                <div id="match-form" class="form-card hidden">
                    <h2 class="form-title" id="form-title">Nouveau match</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label>Cat√©gorie</label>
                            <input type="text" id="match-category" class="form-input" placeholder="Ex: -18G, Seniors F‚Ä¶">
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" id="match-date" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Heure</label>
                            <input type="time" id="match-time" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Adversaire</label>
                            <input type="text" id="match-opponent" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Lieu</label>
                            <input type="text" id="match-location" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>Type de match</label>
                            <select id="match-type" class="form-input">
                                <option value="home">Domicile</option>
                                <option value="away">Ext√©rieur</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button id="submit-match-btn" class="btn-submit">Ajouter</button>
                        <button id="cancel-match-btn" class="btn-cancel hidden">Annuler</button>
                    </div>
                </div>

                <div id="weekend-admin-view" class="weekend-grid">
                    <div class="weekend-column home-column">
                        <h3 class="column-title">Domicile</h3>
                        <div id="admin-home-matches" class="matches-container"></div>
                    </div>
                    <div class="weekend-column away-column">
                        <h3 class="column-title">Ext√©rieur</h3>
                        <div id="admin-away-matches" class="matches-container"></div>
                    </div>
                </div>
            </main>
        </div>
    </template>

    <!-- Librairies -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
